(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(5),o=n.n(a),l=(n(14),n(2)),s=n(3),c=n(8),u=n(6),h=n(7),d=n(1);n(16),n(17);Array.prototype.last=function(){return this[this.length-1]};var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(l.a)(this,e),this.value=t,this.children=r,this.parent=n||null,this.showChildren=!0}return Object(s.a)(e,[{key:"addChild",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.children.push(new e(t,this,n)),this.children.last()}},{key:"equals",value:function(e){return e.value===this.value&&!!function e(t,n){var r=function(e){return!!Array.isArray(e)};if(!Array.isArray(t)||!Array.isArray(n))return!1;if(t.length!==n.length)return!1;if(t.every(r)&&n.every(r)){for(var i=0;i<t.length;i++)if(!e(t[i],n[i]))return!1}else for(var a=0;a<t.length;a++)if(t[a]!==n[a])return!1;return!0}(e.children,this.children)}}]),e}(),m=function(){function e(){Object(l.a)(this,e),this.store=[]}return Object(s.a)(e,[{key:"originArray",value:function(e){return function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];if(i.equals(t))return[n,r];if(i.children.length>0&&e(t,i.children))return e(t,i.children)}return!1}(e,this.store)}},{key:"enter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t?t.addChild(e):void 0:(this.store.push(new f(e)),this.store.last())}},{key:"tab",value:function(e){if(!this.originArray(e))throw new Error("problem tabbing");var t=this.originArray(e)[0],n=this.originArray(e)[1];if(n>0){var r=e;this.delete(e),t[n-1].addChild(r.value,r.children)}}},{key:"untab",value:function(e){if(null!==e.parent){var t=e;if(this.delete(e),t.parent&&this.originArray(t.parent)){var n=this.originArray(t.parent)[0],r=this.originArray(t.parent)[1];n.splice(r+1,0,new f(t.value,t.parent,t.children))}else if(null===t.parent)return}}},{key:"delete",value:function(e){if(!this.originArray(e))throw new Error("wwo");var t=this.originArray(e)[0],n=this.originArray(e)[1];t.splice(n,1)}},{key:"display",value:function(){return JSON.stringify(this.store.map(function(e){return function e(t){var n=[];return t.children&&t.children.length>0&&t.children.forEach(function(t){n.push(e(t))}),[t.value,n]}(e)}),null,2)}}]),e}(),v=function(e){var t=e.obj,n=e.showChildren;return i.a.createElement("button",{className:"zoom",onClick:function(e){n(t)}},t.showChildren?"-":"+")},b=function(e){var t=e.obj,n=e.maximize;return i.a.createElement("button",{className:"zoom",onClick:function(e){n(t)}},"\u2022")},y=function(e){var t=e.obj,n=e.delet;return i.a.createElement("button",{className:"zoom",onClick:function(e){n(t)}},"x")},g=function e(t){var n=t.text,r=t.keypress,a=t.children,o=t.obj,l=t.change,s=t.showChildren,c=t.maximize,u=t.delet;return i.a.createElement("div",null,i.a.createElement("div",{tabIndex:"0",onKeyDown:function(e){r(e,o)}},i.a.createElement(v,{obj:o,showChildren:s}),i.a.createElement(b,{obj:o,maximize:c}),i.a.createElement("span",{onBlur:function(e){l(o,e.target.textContent)},contentEditable:!0},n),i.a.createElement(y,{obj:o,delet:u})),i.a.createElement("div",null,a&&o.showChildren?a.map(function(t,n){return i.a.createElement(e,{key:n,delet:u,change:l,showChildren:s,obj:t,keypress:r,text:t.value,children:t.children,maximize:c})}):null))},p=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).mainList=new m,e.mainList.enter("Welcome"),e.state={array:e.mainList.store,backButton:!1},e.keypress=e.keypress.bind(Object(d.a)(Object(d.a)(e))),e.showChildren=e.showChildren.bind(Object(d.a)(Object(d.a)(e))),e.handleChange=e.handleChange.bind(Object(d.a)(Object(d.a)(e))),e.maximize=e.maximize.bind(Object(d.a)(Object(d.a)(e))),e.back=e.back.bind(Object(d.a)(Object(d.a)(e))),e.del=e.del.bind(Object(d.a)(Object(d.a)(e))),chrome.storage.local.get(["mainList"],function(e){console.log("here &"),console.log(JSON.stringify(e,null,2))}),e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"maximize",value:function(e){this.setState({array:[e],backButton:!0,lastKeypress:null})}},{key:"del",value:function(e){this.mainList.delete(e),this.forceUpdate()}},{key:"back",value:function(){this.setState({array:this.mainList.store,backButton:!1})}},{key:"showChildren",value:function(e){e.showChildren=!e.showChildren,this.forceUpdate()}},{key:"handleChange",value:function(e,t){console.log(e,"text, ",t),e.value=t}},{key:"keypress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log(e.key),"Enter"===e.key?(e.preventDefault(),this.mainList.enter("New item",t)):"ControlRight"===e.code?(e.preventDefault(),this.mainList.tab(t)):"Alt"===e.key&&(e.preventDefault(),this.mainList.untab(t)),this.forceUpdate()}},{key:"componentDidUpdate",value:function(){chrome.storage.local.set({mainList:this.mainList},function(){console.log("Update list")})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},this.state.backButton?i.a.createElement("button",{className:"zoom",onClick:this.back}," ","<-"," "):null,this.state.array.length>0?this.state.array.map(function(t,n){return i.a.createElement(g,{key:n,delet:e.del,change:e.handleChange,keypress:e.keypress,maximize:e.maximize,obj:t,showChildren:e.showChildren,text:t.value,children:t.children})}):i.a.createElement("button",{onClick:function(t){e.mainList.enter("New List"),e.forceUpdate()}},"+"))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(19)}},[[9,2,1]]]);
//# sourceMappingURL=main.35318fe1.chunk.js.map